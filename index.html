<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracking App</title>
    <style>
        /* Stylizacja dla zakładek */
        .tabs {
            display: flex;
            flex-wrap: wrap;
            background-color: #007bff;
            padding: 5px;
            border-radius: 5px;
        }
        .tabs button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 2px;
        }
        .tabs button.active {
            background-color: #0056b3;
        }
        .tab-content {
            display: none;
            margin-top: 20px;
        }
        .tab-content.active {
            display: block;
        }
        /* Stylizacja dla formularza */
        .form-container {
            margin-bottom: 20px;
        }
        .form-container input {
            margin: 5px 0;
            padding: 8px;
            width: 100%;
            box-sizing: border-box;
        }
        .form-container button {
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .archive {
            margin-top: 20px;
        }
        .archive h3 {
            margin-bottom: 10px;
        }
        .archive-item {
            border-top: 1px solid #ddd;
            padding: 10px 0;
        }
    </style>
</head>
<body>

    <!-- Zakładki -->
    <div class="tabs">
        <button class="tablink" onclick="openTab(event, 'G1')">G1</button>
        <button class="tablink" onclick="openTab(event, 'G3')">G3</button>
        <button class="tablink" onclick="openTab(event, 'G4')">G4</button>
        <button class="tablink" onclick="openTab(event, 'P1')">P1</button>
        <button class="tablink" onclick="openTab(event, 'P2')">P2</button>
        <button class="tablink" onclick="openTab(event, 'P4')">P4</button>
        <button class="tablink" onclick="openTab(event, 'R1')">R1</button>
        <button class="tablink" onclick="openTab(event, 'R2')">R2</button>
        <button class="tablink" onclick="openTab(event, 'Z1')">Z1</button>
        <button class="tablink" onclick="openTab(event, 'Z2')">Z2</button>
        <button class="tablink" onclick="openTab(event, 'Z3')">Z3</button>
        <button class="tablink" onclick="openTab(event, 'Z4')">Z4</button>
        <button class="tablink" onclick="openTab(event, 'Z5')">Z5</button>
        <button class="tablink" onclick="openTab(event, 'Z6')">Z6</button>
        <button class="tablink" onclick="openTab(event, 'Z7')">Z7</button>
        <button class="tablink" onclick="openTab(event, 'Z8')">Z8</button>
        <button class="tablink" onclick="openTab(event, 'Z9')">Z9</button>
        <button class="tablink" onclick="openTab(event, 'Z10')">Z10</button>
        <button class="tablink" onclick="openTab(event, 'E')">E</button>
        <button class="tablink" onclick="openTab(event, 'D')">D</button>
    </div>

    <!-- Formularze i archiwa dla każdej zakładki -->
    <div id="G1" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousG1" placeholder="Poprzednie:">
            <input type="text" id="currentG1" placeholder="Aktualnie:">
            <input type="text" id="nextG1" placeholder="Następne:">
            <button onclick="saveData('G1')">Zapisz</button>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveG1"></div>
        </div>
    </div>

    <!-- Powtórz to samo dla pozostałych zakładek (G3, G4, P1, P2, P4, R1, R2, Z1, Z2, Z3, Z4, Z5, Z6, Z7, Z8, Z9, Z10, E, D) -->
    <!-- Wystarczy zmienić wszystkie wystąpienia G1 na odpowiednie id zakładki (np. G3, P1, itd.) -->

    <!-- Poniżej pełny kod dla jednej z zakładek, możesz powielić go dla każdej z pozostałych zakładek -->
    <div id="G3" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousG3" placeholder="Poprzednie:">
            <input type="text" id="currentG3" placeholder="Aktualnie:">
            <input type="text" id="nextG3" placeholder="Następne:">
            <button onclick="saveData('G3')">Zapisz</button>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveG3"></div>
        </div>
    </div>

    <!-- Powiel kod powyżej dla każdej z zakładek -->

    <script>
        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].classList.remove("active");
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active");
            }
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        function saveData(tab) {
            // Pobierz wartości z formularza
            var previous = document.getElementById('previous' + tab).value;
            var current = document.getElementById('current' + tab).value;
            var next = document.getElementById('next' + tab).value;

            // Jeśli pole jest puste, pomiń zapis
            if (!previous && !current && !next) {
                alert("Wszystkie pola są puste. Wprowadź dane.");
                return;
            }

            // Pobierz istniejące archiwum z localStorage
            var archive = JSON.parse(localStorage.getItem('archive' + tab)) || [];

            // Dodaj nowe dane na początek archiwum
            archive.unshift({
                previous: previous,
                current: current,
                next: next
            });

            // Zapisz zaktualizowane archiwum do localStorage
            localStorage.setItem('archive' + tab, JSON.stringify(archive));

            // Wyświetl zaktualizowane archiwum
            displayArchive(tab);

            // Wyczyść pola formularza
            document.getElementById('previous' + tab).value = '';
            document.getElementById('current' + tab).value = '';
            document.getElementById('next' + tab).value = '';
        }

        function displayArchive(tab) {
            var archiveDiv = document.getElementById('archive' + tab);
            archiveDiv.innerHTML = '';

            // Pobierz archiwum z localStorage
            var archive = JSON.parse(localStorage.getItem('archive' + tab)) || [];

            // Wyświetl dane z archiwum
            archive.forEach(function(item) {
                var div = document.createElement('div');
                div.classList.add('archive-item');
                div.innerHTML = `
                    <p><strong>Poprzednie:</strong> ${item.previous}</p>
                    <p><strong>Aktualnie:</strong> ${item.current}</p>
                    <p><strong>Następne:</strong> ${item.next}</p>
                `;
                archiveDiv.appendChild(div);
            });
        }

        // Wywołaj funkcję displayArchive dla każdej zakładki podczas ładowania strony
        document.addEventListener('DOMContentLoaded', function() {
            var tabs = ['G1', 'G3', 'G4', 'P1', 'P2', 'P4', 'R1', 'R2', 'Z1', 'Z2', 'Z3', 'Z4', 'Z5', 'Z6', 'Z7', 'Z8', 'Z9', 'Z10', 'E', 'D'];
            tabs.forEach(function(tab) {
                displayArchive(tab);
            });
        });
    </script>

</body>
</html>
