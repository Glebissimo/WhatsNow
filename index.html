<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracking App</title>
    <style>
        /* Stylizacja dla zakładek */
        .tabs {
            display: flex;
            flex-wrap: wrap;
            background-color: #007bff;
            padding: 5px;
            border-radius: 5px;
        }
        .tabs button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 2px;
        }
        .tabs button.active {
            background-color: #0056b3;
        }
        .tab-content {
            display: none;
            margin-top: 20px;
        }
        .tab-content.active {
            display: block;
        }
        /* Stylizacja dla formularza */
        .form-container {
            margin-bottom: 20px;
        }
        .form-container input {
            margin: 5px 0;
            padding: 8px;
            width: 100%;
            box-sizing: border-box;
        }
        .form-container button {
            padding: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .archive, .new-entry {
            margin-top: 20px;
        }
        .archive h3, .new-entry h3 {
            margin-bottom: 10px;
        }
        .archive-item, .new-item {
            border-top: 1px solid #ddd;
            padding: 10px 0;
        }
    </style>
</head>
<body>

    <!-- Zakładki -->
    <div class="tabs">
        <button class="tablink" onclick="openTab(event, 'G1')">G1</button>
        <button class="tablink" onclick="openTab(event, 'G3')">G3</button>
        <button class="tablink" onclick="openTab(event, 'G4')">G4</button>
        <button class="tablink" onclick="openTab(event, 'P1')">P1</button>
        <button class="tablink" onclick="openTab(event, 'P2')">P2</button>
        <button class="tablink" onclick="openTab(event, 'P4')">P4</button>
        <button class="tablink" onclick="openTab(event, 'R1')">R1</button>
        <button class="tablink" onclick="openTab(event, 'R2')">R2</button>
        <button class="tablink" onclick="openTab(event, 'Z1')">Z1</button>
        <button class="tablink" onclick="openTab(event, 'Z2')">Z2</button>
        <button class="tablink" onclick="openTab(event, 'Z3')">Z3</button>
        <button class="tablink" onclick="openTab(event, 'Z4')">Z4</button>
        <button class="tablink" onclick="openTab(event, 'Z5')">Z5</button>
        <button class="tablink" onclick="openTab(event, 'Z6')">Z6</button>
        <button class="tablink" onclick="openTab(event, 'Z7')">Z7</button>
        <button class="tablink" onclick="openTab(event, 'Z8')">Z8</button>
        <button class="tablink" onclick="openTab(event, 'Z9')">Z9</button>
        <button class="tablink" onclick="openTab(event, 'Z10')">Z10</button>
        <button class="tablink" onclick="openTab(event, 'E')">E</button>
        <button class="tablink" onclick="openTab(event, 'D')">D</button>
    </div>

    <!-- Formularze i archiwa dla każdej zakładki -->
    <div id="G1" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousG1" placeholder="Poprzednie:">
            <input type="text" id="currentG1" placeholder="Aktualnie:">
            <input type="text" id="nextG1" placeholder="Następne:">
            <button onclick="saveData('G1')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newG1" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveG1"></div>
        </div>
    </div>

    <div id="G3" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousG3" placeholder="Poprzednie:">
            <input type="text" id="currentG3" placeholder="Aktualnie:">
            <input type="text" id="nextG3" placeholder="Następne:">
            <button onclick="saveData('G3')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newG3" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveG3"></div>
        </div>
    </div>

    <!-- Powtórz to samo dla pozostałych zakładek -->

    <div id="G4" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousG4" placeholder="Poprzednie:">
            <input type="text" id="currentG4" placeholder="Aktualnie:">
            <input type="text" id="nextG4" placeholder="Następne:">
            <button onclick="saveData('G4')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newG4" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveG4"></div>
        </div>
    </div>

    <div id="P1" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousP1" placeholder="Poprzednie:">
            <input type="text" id="currentP1" placeholder="Aktualnie:">
            <input type="text" id="nextP1" placeholder="Następne:">
            <button onclick="saveData('P1')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newP1" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveP1"></div>
        </div>
    </div>

    <div id="P2" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousP2" placeholder="Poprzednie:">
            <input type="text" id="currentP2" placeholder="Aktualnie:">
            <input type="text" id="nextP2" placeholder="Następne:">
            <button onclick="saveData('P2')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newP2" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveP2"></div>
        </div>
    </div>

    <div id="P4" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousP4" placeholder="Poprzednie:">
            <input type="text" id="currentP4" placeholder="Aktualnie:">
            <input type="text" id="nextP4" placeholder="Następne:">
            <button onclick="saveData('P4')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newP4" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveP4"></div>
        </div>
    </div>

    <!-- Pozostałe zakładki również mogą zostać dodane w ten sam sposób -->

    <div id="R1" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousR1" placeholder="Poprzednie:">
            <input type="text" id="currentR1" placeholder="Aktualnie:">
            <input type="text" id="nextR1" placeholder="Następne:">
            <button onclick="saveData('R1')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newR1" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveR1"></div>
        </div>
    </div>

    <div id="R2" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousR2" placeholder="Poprzednie:">
            <input type="text" id="currentR2" placeholder="Aktualnie:">
            <input type="text" id="nextR2" placeholder="Następne:">
            <button onclick="saveData('R2')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newR2" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveR2"></div>
        </div>
    </div>

    <div id="Z1" class="tab-content">
        <div class="form-container">
            <input type="text" id="previousZ1" placeholder="Poprzednie:">
            <input type="text" id="currentZ1" placeholder="Aktualnie:">
            <input type="text" id="nextZ1" placeholder="Następne:">
            <button onclick="saveData('Z1')">Zapisz</button>
        </div>
        <div class="new-entry">
            <h3>NOWE:</h3>
            <div id="newZ1" class="new-item"></div>
        </div>
        <div class="archive">
            <h3>ARCHIWUM:</h3>
            <div id="archiveZ1"></div>
        </div>
    </div>

    <!-- Dodajemy więcej zakładek... -->

    <!-- Kod JavaScript do obsługi zakładek i zapisywania danych -->
    <script>
        function openTab(event, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            event.currentTarget.className += " active";
        }

        function saveData(tab) {
            var previous = document.getElementById('previous' + tab).value;
            var current = document.getElementById('current' + tab).value;
            var next = document.getElementById('next' + tab).value;

            var time = new Date().toLocaleString();
            var data = {
                previous: previous,
                current: current,
                next: next,
                time: time
            };

            var savedData = JSON.parse(localStorage.getItem(tab)) || [];
            if (savedData.length > 0) {
                savedData.push(savedData[0]); // Przeniesienie bieżących danych do archiwum
            }
            savedData[0] = data; // Nowe dane na górze
            localStorage.setItem(tab, JSON.stringify(savedData));

            displayNew(tab);
            displayArchive(tab);
        }

        function displayNew(tab) {
            var newDiv = document.getElementById('new' + tab);
            newDiv.innerHTML = '';

            var savedData = JSON.parse(localStorage.getItem(tab)) || [];
            if (savedData.length > 0) {
                var item = savedData[0];
                newDiv.innerHTML = `
                    <p><strong>Poprzednie:</strong> ${item.previous}</p>
                    <p><strong>Aktualnie:</strong> ${item.current}</p>
                    <p><strong>Następne:</strong> ${item.next}</p>
                    <p><strong>Data:</strong> ${item.time}</p>
                `;
            }
        }

        function displayArchive(tab) {
            var archiveDiv = document.getElementById('archive' + tab);
            archiveDiv.innerHTML = '';

            var savedData = JSON.parse(localStorage.getItem(tab)) || [];
            savedData.slice(1).forEach(function(item) { // Pomiń pierwszy element (najnowsze dane)
                var div = document.createElement('div');
                div.className = 'archive-item';
                div.innerHTML = `
                    <p><strong>Poprzednie:</strong> ${item.previous}</p>
                    <p><strong>Aktualnie:</strong> ${item.current}</p>
                    <p><strong>Następne:</strong> ${item.next}</p>
                    <p><strong>Data:</strong> ${item.time}</p>
                `;
                archiveDiv.appendChild(div);
            });
        }

        // Wywołaj funkcje displayNew i displayArchive dla każdej zakładki podczas ładowania strony
        document.addEventListener('DOMContentLoaded', function() {
            var tabs = ['G1', 'G3', 'G4', 'P1', 'P2', 'P4', 'R1', 'R2', 'Z1', 'Z2', 'Z3', 'Z4', 'Z5', 'Z6', 'Z7', 'Z8', 'Z9', 'Z10', 'E', 'D'];
            tabs.forEach(function(tab) {
                displayNew(tab);
                displayArchive(tab);
            });
        });
    </script>

</body>
</html>
